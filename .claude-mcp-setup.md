# Claude Code MCP Server Setup

## How It Works

Claude Code stores MCP servers in `~/.claude.json` (user scope). Manage via CLI:

```bash
claude mcp add <name> [args...]    # Add server
claude mcp remove <name> -s user   # Remove server
claude mcp list                    # List servers
```

## Setup (Any Machine)

```bash
# Requires EXA_API_KEY env var set (e.g., in ~/.config/fish/secrets.fish)

# Add context7 (no auth needed)
claude mcp add context7 -- npx -y context7-mcp-server

# Add exa with env var
claude mcp add exa --env EXA_API_KEY -- npx -y exa-mcp-server

# Verify
claude mcp list
```

## Current Servers

| Server | Purpose |
|--------|---------|
| context7 | Library documentation lookup |
| exa | Web search (Exa 2.1) |

## Notes

- Servers are stored in `~/.claude.json` under user scope
- `--env KEY` copies the current env value at add time (not a live reference)
- Keys end up hardcoded in `~/.claude.json` - excluded from git via `.chezmoiignore`
- Each machine needs manual `claude mcp add` with keys available in env
