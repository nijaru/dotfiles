# User Information
[user]
    name = Nick Russo
    email = nijaru7@gmail.com
    signingkey = /Users/nick/.ssh/id_ed25519.pub

###################
# Core Settings
###################
[core]
    editor = $EDITOR --wait
    excludesFile = ~/.gitignore
    # Performance optimizations
    fsmonitor = true                    # Use filesystem monitor for faster status
    preloadIndex = true                 # Load index into memory for faster status
    untrackedCache = true               # Cache untracked files for faster status
    # File handling
    autocrlf = input                    # Convert CRLF to LF on input
    safecrlf = true                     # Prevent mixed line endings
    longpaths = true                    # Support paths > 260 chars
    # Pager settings
    pager = delta
    # Large file handling
    bigFileThreshold = 64m              # Warn on adding large files
    compression = 9                     # Maximum compression

###################
# Branch and Checkout
###################
[init]
    defaultBranch = main
[branch]
    sort = -committerdate               # Sort branches by most recent commit
[checkout]
    defaultRemote = origin
    workers = 0                         # Use all available CPU cores

###################
# Diff and Merge
###################
[diff]
    algorithm = histogram              # Better diff algorithm
    colorMoved = default               # Track moved code blocks
    renames = copies                   # Detect copied files
    wsErrorHighlight = all             # Show all whitespace errors
[merge]
    conflictstyle = zdiff3            # Better conflict resolution
    ff = only                         # No merge commits when fast-forward possible
[interactive]
    diffFilter = delta --color-only

###################
# Remote Operations
###################
[fetch]
    parallel = 0                      # Use all available CPU cores
    prune = true                      # Remove deleted remote branches
    pruneTags = true                  # Remove deleted remote tags
    writeCommitGraph = true           # Optimize commit traversal
    recurseSubmodules = on-demand
[pull]
    prune = true
    pruneTags = true
    rebase = true                     # Use rebase instead of merge
[push]
    autoSetupRemote = true            # Automatically set upstream
    default = current                 # Push current branch to same name
    followTags = true                 # Include tags when pushing

###################
# Rebase and History
###################
[rebase]
    autoStash = true                  # Automatically stash/unstash
    autoSquash = true                 # Automatically squash fixup commits
    updateRefs = true                 # Update dependent branches
    missingCommitsCheck = error
[rerere]
    autoupdate = true                 # Auto-resolve known conflicts
    enabled = true                    # Remember resolution patterns

###################
# Submodule Settings
###################
[submodule]
    recurse = true                    # Always recurse into submodules
    fetchJobs = 0                     # Parallel submodule fetches

###################
# Security and Signing
###################
[gpg]
    format = ssh
[tag]
    forceSignAnnotated = true
[commit]
    gpgsign = true
[transfer]
    fsckobjects = true               # Check object integrity during transfer

###################
# Display and UI
###################
[color]
    ui = true
[color "status"]
    changed = yellow
[column]
    ui = auto
[status]
    showUntrackedFiles = all
    showStash = true
[log]
    date = iso

###################
# Delta Configuration
###################
[delta]
    # Navigation
    navigate = true                  # Use n/N to move between diff sections
    light = false                    # Dark mode
    # Layout
    side-by-side = true              # Show diffs side by side
    line-numbers = true              # Show line numbers
    # Styling
    syntax-theme = ansi              # Use ANSI colors
    file-style = bold yellow         # File headers in bold yellow
    file-decoration-style = none     # No box around file headers
    hunk-header-style = file line-number syntax  # Better hunk headers
    plus-style = syntax "#003800"    # Added lines
    minus-style = syntax "#3f0001"   # Removed lines
    zero-style = syntax              # Context lines
    whitespace-error-style = reverse # Highlight whitespace errors

###################
# Performance Settings
###################
[pack]
    threads = 0                     # Use all CPU cores
    deltaCacheSize = 128m           # Cache size for delta compression
    packSizeLimit = 128m            # Maximum pack file size
[maintenance]
    auto = true
    strategy = incremental          # Incremental maintenance
    gc = true                       # Enable garbage collection
[gc]
    auto = 256                      # Run GC after 256 loose objects
    autoPackLimit = 64              # Pack after 64 packs
    pruneExpire = 2.weeks.ago       # Keep objects younger than 2 weeks

###################
# URL Handling
###################
[url "git@github.com:"]
    insteadOf = https://github.com/

###################
# LFS Settings
###################
[filter "lfs"]
    clean = git-lfs clean -- %f
    smudge = git-lfs smudge -- %f
    process = git-lfs filter-process
    required = true

###################
# Helper Settings
###################
[help]
    autocorrect = immediate         # Auto-correct commands immediately

# Include local config if exists
[include]
    path = ~/.gitconfig.local

###################
# Alias Definitions
###################
[alias]
    # Support for custom functions
    cleanup = "!git-clean"
    br = "!gbr"
    clone-cd = "!clone"
