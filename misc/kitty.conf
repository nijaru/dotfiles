# vim:fileencoding=utf-8:foldmethod=marker

#: Performance Tuning {{{

# GPU acceleration and rendering
sync_to_monitor yes
input_delay 1                    # Reduced from 2 for better responsiveness
repaint_delay 6                  # Reduced from 8 for smoother updates
enable_audio_bell no
resize_debounce_time 0.0

# Additional performance optimizations
update_check_interval 0          # Disable update checking
clipboard_control write-clipboard write-primary no-append    # Efficient clipboard
shell_integration enabled no-cursor
confirm_os_window_close 0        # Don't confirm window closing

#: }}}

#: Fonts {{{

# Font families
font_family        JetBrainsMono Nerd Font
bold_font          auto
italic_font        auto
bold_italic_font   auto
font_size 14.0

# Font rendering
disable_ligatures never
modify_font underline_position 2
modify_font cell_height 125%

# Better font rendering
text_composition_strategy 1.7 30
macos_thicken_font 0.75

# Font features
font_features JetBrainsMono-Regular +cv02 +cv05 +cv09 +cv14 +ss04 +cv16 +cv31 +cv25 +cv26 +cv32 +cv28 +ss10 +zero +onum
adjust_line_height 110%
adjust_column_width 0

# Symbol handling
symbol_map U+23FB-U+23FE,U+2665,U+26A1,U+2B58,U+E000-U+E00A,U+E0A0-U+E0A3,U+E0B0-U+E0C8,U+E0CA,U+E0CC-U+E0D2,U+E0D4,U+E200-U+E2A9,U+E300-U+E3E3,U+E5FA-U+E62F,U+E700-U+E7C5,U+F000-U+F2E0,U+F300-U+F31C,U+F400-U+F4A9,U+F500-U+F8FF Symbols Nerd Font

#: }}}

#: Scrollback {{{

scrollback_lines 50000           # Increased buffer size
scrollback_pager less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
scrollback_fill_enlarged_window yes
wheel_scroll_multiplier 5.0
touch_scroll_multiplier 2.0

# Improved scrollback search
scrollback_pager_history_size 4096
scrollback_in_new_tab yes

#: }}}

#: Mouse {{{

copy_on_select yes
strip_trailing_spaces smart
focus_follows_mouse yes
pointer_shape_when_grabbed arrow

# Better mouse selection
mouse_hide_wait 2.0
select_by_word_characters @-./_~?&=%+#
mouse_map ctrl+left press ungrabbed,grabbed mouse_click_url

#: }}}

#: Window Layout {{{

window_padding_width 4
remember_window_size  yes
initial_window_width  1024
initial_window_height 768
enabled_layouts tall,stack,fat,grid,splits,horizontal,vertical
window_resize_step_cells 2
window_resize_step_lines 2
placement_strategy center
hide_window_decorations yes      # Clean look
inactive_text_alpha 0.8          # Subtle indication of focus

# Split management
map ctrl+shift+- launch --location=hsplit --cwd=current
map ctrl+shift+\ launch --location=vsplit --cwd=current
map ctrl+shift+left neighboring_window left
map ctrl+shift+right neighboring_window right
map ctrl+shift+up neighboring_window up
map ctrl+shift+down neighboring_window down

#: }}}

#: Tab Bar {{{

tab_bar_style powerline
tab_powerline_style angled
tab_activity_symbol
active_tab_font_style bold
tab_bar_margin_width 0.0
tab_bar_margin_height 0.0 0.0
tab_title_template "{fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{title}"

#: }}}

#: Colors and Theme {{{

# Include theme
include kitty-themes/themes/ayu_mirage.conf

# URL handling
url_style curly
url_color #0087bd
url_prefixes file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh
detect_urls yes
open_url_with default
show_hyperlink_targets yes

# Selection colors
selection_foreground #000000
selection_background #fffacd

#: }}}

#: Advanced {{{

# Shell integration
shell_integration enabled no-cursor
allow_remote_control yes
listen_on unix:/tmp/kitty

# Terminal bell
enable_audio_bell no
visual_bell_duration 0.0
window_alert_on_bell yes
bell_on_tab "ðŸ”” "

# OS specific tweaks
macos_option_as_alt yes
macos_quit_when_last_window_closed yes
macos_window_resizable yes
macos_show_window_title_in none
macos_custom_beam_cursor no
macos_traditional_fullscreen no

# Performance
repaint_delay 6
input_delay 1
sync_to_monitor yes

#: }}}

#: Keyboard Shortcuts {{{

# Window management
map cmd+n       new_os_window
map cmd+w       close_window
map cmd+d       launch --location=hsplit
map cmd+shift+d launch --location=vsplit
map cmd+]       next_window
map cmd+[       previous_window
map cmd+f       toggle_fullscreen

# Tab management
map cmd+t       new_tab
map cmd+shift+] next_tab
map cmd+shift+[ previous_tab
map cmd+1       goto_tab 1
map cmd+2       goto_tab 2
map cmd+3       goto_tab 3
map cmd+4       goto_tab 4
map cmd+5       goto_tab 5

# Font size
map cmd+plus    change_font_size all +2.0
map cmd+minus   change_font_size all -2.0
map cmd+0       change_font_size all 0

#: }}}
