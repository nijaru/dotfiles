# Cargo build configuration for faster compilation

[build]
incremental = true

{{- if eq .chezmoi.os "linux" }}

[target.x86_64-unknown-linux-gnu]
# mold linker - 5-10x faster linking on Linux
linker = "clang"
rustflags = ["-C", "link-arg=-fuse-ld=mold"]

{{- end }}

[profile.release]
# Faster compilation for cargo install (uses release profile)
codegen-units = 16  # more units = faster compile, slightly slower runtime
lto = "thin"        # thin LTO balances compile time and performance
